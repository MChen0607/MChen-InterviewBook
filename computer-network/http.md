---
description: ä»¥ä¸‹èµ„æ–™æ¥è‡ªï¼šã€Šå›¾è§£HTTPã€‹ã€CS-Notesã€CSï¼ˆzccï¼‰
---

# ã€Šå›¾è§£HTTPã€‹

## 1.HTTPSåŠ å¯†æ–¹å¼

### 1.1 å…±äº«å¯†é’¥åŠ å¯†--å¯¹ç§°åŠ å¯†

> åŠ å¯†å’Œè§£å¯†éƒ½æ˜¯éœ€è¦å¯†é’¥çš„ã€‚æ²¡æœ‰å¯†é’¥å°±æ— æ³•å¯¹å¯†ç è§£å¯†ã€‚å¦‚æœå¯†é’¥è¢«æ”»å‡»è€…è·å¾—ï¼Œé‚£ä¹ˆåŠ å¯†ä¹Ÿå¤±å»äº†æ„ä¹‰ã€‚

åŠ å¯†ä¸è§£å¯†åŒ**ç”¨ä¸€ä¸ªå¯†é’¥**çš„æ–¹å¼ç§°ä¸º**å…±äº«å¯†é’¥åŠ å¯†**ï¼ˆCommon key crypto systemï¼‰ï¼Œä¹Ÿç§°ä¸º**å¯¹ç§°å¯†é’¥åŠ å¯†**ã€‚

* ä¼˜ç‚¹ï¼šè¿ç®—é€Ÿåº¦**å¿«**ï¼›
* ç¼ºç‚¹ï¼šæ— æ³•å®‰å…¨åœ°å°†å¯†é’¥ä¼ è¾“ç»™é€šä¿¡æ–¹ã€‚

![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/7fffa4b8-b36d-471f-ad0c-a88ee763bb76.png)

### 1.2 å…¬å¼€å¯†é’¥åŠ å¯†**--éå¯¹ç§°åŠ å¯†**

        å…¬å¼€å¯†é’¥åŠ å¯†ä½¿ç”¨ä¸€å¯¹**éå¯¹ç§°çš„å¯†é’¥**ã€‚ä¸€æŠŠå«åšç§æœ‰å¯†é’¥ \(private key\)ï¼Œå¦ä¸€æŠŠå«åšå…¬å¼€å¯†é’¥\(public key\)ã€‚é¡¾åæ€ä¹‰ï¼Œç§æœ‰å¯†é’¥ä¸èƒ½è®©å…¶ä»–ä»»ä½•äººçŸ¥é“ï¼Œè€Œå…¬å¼€å¯†é’¥åˆ™å¯ä»¥éšæ„å‘å¸ƒï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—ã€‚--&gt;åŠ å¯†è§£å¯†çš„å¯†é’¥**ä¸åŒ**ã€‚

        ä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼ï¼Œå‘é€å¯†æ–‡çš„ä¸€æ–¹ä½¿ç”¨å¯¹æ–¹çš„å…¬å¼€å¯†é’¥è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œå¯¹æ–¹æ”¶åˆ°è¢«åŠ å¯†çš„ä¿¡æ¯åï¼Œå†ä½¿ç”¨è‡ªå·±çš„ç§æœ‰å¯†é’¥è¿›è¡Œè§£å¯†ã€‚åˆ©ç”¨è¿™ç§æ–¹å¼ï¼Œä¸éœ€è¦å‘é€ç”¨æ¥è§£å¯†çš„ç§æœ‰å¯†é’¥ï¼Œä¹Ÿä¸å¿…æ‹…å¿ƒå¯†é’¥è¢«æ”»å‡»è€…çªƒå¬è€Œç›—èµ°ã€‚

![&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;](../.gitbook/assets/wechat07d4fd84723c013bd27ba6958f9d0869.png)

* ä¼˜ç‚¹ï¼šå¯ä»¥æ›´å®‰å…¨åœ°å°†å…¬å¼€å¯†é’¥ä¼ è¾“ç»™é€šä¿¡å‘é€æ–¹ï¼›ä¿è¯ä¼ è¾“çš„å®‰å…¨æ€§ã€‚
* ç¼ºç‚¹ï¼šè¿ç®—é€Ÿåº¦æ…¢ã€‚

### **1.3 HTTPS é‡‡ç”¨çš„åŠ å¯†æ–¹å¼**

> é€‚ç”¨å…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼è¿›è¡Œä¼ è¾“å¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ã€‚
>
> å¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ä¼ è¾“å®Œæˆåï¼Œé€‚ç”¨å¯¹ç§°åŠ å¯†çš„ç®—æ³•è¿›è¡ŒåŠ å¯†é€šä¿¡ã€‚

ä¸Šé¢æåˆ°å¯¹ç§°å¯†é’¥åŠ å¯†æ–¹å¼çš„**ä¼ è¾“æ•ˆç‡æ›´é«˜**ï¼Œä½†æ˜¯æ— æ³•å®‰å…¨åœ°å°†å¯†é’¥ Secret Key ä¼ è¾“ç»™é€šä¿¡æ–¹ã€‚è€Œéå¯¹ç§°å¯†é’¥åŠ å¯†æ–¹å¼å¯ä»¥ä¿è¯**ä¼ è¾“çš„å®‰å…¨æ€§**ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨éå¯¹ç§°å¯†é’¥åŠ å¯†æ–¹å¼å°† Secret Key ä¼ è¾“ç»™é€šä¿¡æ–¹ã€‚HTTPS é‡‡ç”¨æ··åˆçš„åŠ å¯†æœºåˆ¶ï¼Œæ­£æ˜¯åˆ©ç”¨äº†ä¸Šé¢æåˆ°çš„æ–¹æ¡ˆï¼š

* ä½¿ç”¨éå¯¹ç§°å¯†é’¥åŠ å¯†æ–¹å¼ï¼Œä¼ è¾“å¯¹ç§°å¯†é’¥åŠ å¯†æ–¹å¼æ‰€éœ€è¦çš„ Secret Keyï¼Œä»è€Œä¿è¯å®‰å…¨æ€§;
* è·å–åˆ° Secret Key åï¼Œå†ä½¿ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†æ–¹å¼è¿›è¡Œé€šä¿¡ï¼Œä»è€Œä¿è¯æ•ˆç‡ã€‚

![&#x6DF7;&#x5408;&#x52A0;&#x5BC6;&#x673A;&#x5236;](../.gitbook/assets/wechat5f32108561b2b583c93616c4c97b2853.png)

## 2.HTTPç¼ºç‚¹

> è¿™é‡Œä¸»è¦é’ˆå¯¹HTTPSæ¥è¯´ï¼Œä¸ºäº†å‡¸æ˜¾HTTPSä¸HTTPçš„å·®åˆ«

* **ä¸åŠ å¯†**ï¼šé€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬
* **ä¸éªŒè¯èº«ä»½**ï¼šä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½ï¼Œæœ‰å¯èƒ½é­é‡ä¼ªè£…
* **å®Œæ•´æ€§æ— æ³•ä¿è¯** ï¼šæ— æ³•è¯æ˜æŠ¥æ–‡çš„å®Œæ•´æ€§ï¼Œæœ‰å¯èƒ½å·²é­ç¯¡æ”¹

## 3.ç½‘é¡µè®¿é—®ç½‘ç«™æµç¨‹ã€HTTPæŠ¥æ–‡å‘é€å…¨è¿‡ç¨‹\*

{% page-ref page="url-trace.md" %}

[åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€å›è½¦åå‘ç”Ÿäº†ä»€ä¹ˆ](url-trace.md)

URLè®¿é—®è¿‡ç¨‹ï¼š

![](../.gitbook/assets/image%20%2812%29.png)

## 4.HTTPçŠ¶æ€ç 

æœåŠ¡å™¨è¿”å›çš„ **å“åº”æŠ¥æ–‡** ä¸­ç¬¬ä¸€è¡Œä¸ºçŠ¶æ€è¡Œï¼ŒåŒ…å«äº†çŠ¶æ€ç ä»¥åŠåŸå› çŸ­è¯­ï¼Œç”¨æ¥å‘ŠçŸ¥å®¢æˆ·ç«¯è¯·æ±‚çš„ç»“æœã€‚

| çŠ¶æ€ç  | ç±»åˆ« | å«ä¹‰ |
| :--- | :--- | :--- |
| 1XX | Informationalï¼ˆä¿¡æ¯æ€§çŠ¶æ€ç ï¼‰ | æ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç† |
| 2XX | Successï¼ˆæˆåŠŸçŠ¶æ€ç ï¼‰ | è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯• |
| 3XX | Redirectionï¼ˆé‡å®šå‘çŠ¶æ€ç ï¼‰ | éœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚ |
| 4XX | Client Errorï¼ˆå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼‰ | æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ |
| 5XX | Server Errorï¼ˆæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼‰ | æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™ |

#### 1XX ä¿¡æ¯

* **100 Continue** ï¼šè¡¨æ˜åˆ°ç›®å‰ä¸ºæ­¢éƒ½å¾ˆæ­£å¸¸ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­å‘é€è¯·æ±‚æˆ–è€…å¿½ç•¥è¿™ä¸ªå“åº”ã€‚

#### 2XX æˆåŠŸ

* **200 OK**
* **204 No Content** ï¼šè¯·æ±‚å·²ç»æˆåŠŸå¤„ç†ï¼Œä½†æ˜¯è¿”å›çš„å“åº”æŠ¥æ–‡ä¸åŒ…å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ã€‚ä¸€èˆ¬åœ¨åªéœ€è¦ä»å®¢æˆ·ç«¯å¾€æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦è¿”å›æ•°æ®æ—¶ä½¿ç”¨ã€‚
* **206 Partial Content** ï¼šè¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œå“åº”æŠ¥æ–‡åŒ…å«ç”± Content-Range æŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ã€‚

#### 3XX é‡å®šå‘

* **301 Moved Permanently** ï¼šæ°¸ä¹…æ€§é‡å®šå‘
* **302 Found** ï¼šä¸´æ—¶æ€§é‡å®šå‘
* **303 See Other** ï¼šå’Œ 302 æœ‰ç€ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†æ˜¯ 303 æ˜ç¡®è¦æ±‚å®¢æˆ·ç«¯åº”è¯¥é‡‡ç”¨ GET æ–¹æ³•è·å–èµ„æºã€‚
* æ³¨ï¼šè™½ç„¶ HTTP åè®®è§„å®š 301ã€302 çŠ¶æ€ä¸‹é‡å®šå‘æ—¶ä¸å…è®¸æŠŠ POST æ–¹æ³•æ”¹æˆ GET æ–¹æ³•ï¼Œä½†æ˜¯å¤§å¤šæ•°æµè§ˆå™¨éƒ½ä¼šåœ¨ 301ã€302 å’Œ 303 çŠ¶æ€ä¸‹çš„é‡å®šå‘æŠŠ POST æ–¹æ³•æ”¹æˆ GET æ–¹æ³•ã€‚
* **304 Not Modified** ï¼šå¦‚æœè¯·æ±‚æŠ¥æ–‡é¦–éƒ¨åŒ…å«ä¸€äº›æ¡ä»¶ï¼Œä¾‹å¦‚ï¼šIf-Matchï¼ŒIf-Modified-Sinceï¼ŒIf-None-Matchï¼ŒIf-Rangeï¼ŒIf-Unmodified-Sinceï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å› 304 çŠ¶æ€ç ã€‚
* **307 Temporary Redirect** ï¼šä¸´æ—¶é‡å®šå‘ï¼Œä¸ 302 çš„å«ä¹‰ç±»ä¼¼ï¼Œä½†æ˜¯ 307 è¦æ±‚æµè§ˆå™¨ä¸ä¼šæŠŠé‡å®šå‘è¯·æ±‚çš„ POST æ–¹æ³•æ”¹æˆ GET æ–¹æ³•ã€‚

#### 4XX å®¢æˆ·ç«¯é”™è¯¯

* **400 Bad Request** ï¼šè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚
* **401 Unauthorized** ï¼šè¯¥çŠ¶æ€ç è¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰è®¤è¯ä¿¡æ¯ï¼ˆBASIC è®¤è¯ã€DIGEST è®¤è¯ï¼‰ã€‚å¦‚æœä¹‹å‰å·²è¿›è¡Œè¿‡ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ™è¡¨ç¤ºç”¨æˆ·è®¤è¯å¤±è´¥ã€‚
* **403 Forbidden** ï¼šè¯·æ±‚è¢«æ‹’ç»ã€‚
* **404 Not Found**

#### 5XX æœåŠ¡å™¨é”™è¯¯

* **500 Internal Server Error** ï¼šæœåŠ¡å™¨æ­£åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ã€‚
* **503 Service Unavailable** ï¼šæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚

| çŠ¶æ€ç  | ç±»åˆ« | åŸå› çŸ­è¯­ |
| :--- | :--- | :--- |
| **1XX** | **Informational\(ä¿¡æ¯æ€§çŠ¶æ€ç \)** | **æ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç†** |
| **2XX** | **Success\(æˆåŠŸçŠ¶æ€ç \)** | **è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•** |
| 200 | OK | è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯• |
| 204 | No Content | è¯·æ±‚å¤„ç†æˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰èµ„æºè¿”å› |
| 206 | Partial Content | è¯·æ±‚å¤„ç†æˆåŠŸï¼Œè¿”å›ä¸€éƒ¨åˆ†èµ„æº&lt;â€“èŒƒå›´è¯·æ±‚ |
| **3XX** | **Redirection\(é‡å®šå‘çŠ¶æ€ç \)** | **éœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚** |
| 301 | Moved Permanently | æ°¸ä¹…æ€§é‡å®šå‘â€“&gt;è¯·æ±‚èµ„æºçš„é“¾æ¥å·²æ°¸ä¹…æ€§å‘ç”Ÿæ”¹å˜,ä¹¦ç­¾éœ€è¦æ›´æ”¹é“¾æ¥ |
| 302 | Found | ä¸´æ—¶æ€§é‡å®šå‘â€“&gt;å¸Œæœ›è®¿é—®ä¸´æ—¶æ”¹å˜çš„URIï¼Œä¹¦ç­¾ä¸­ä¸éœ€è¦æ›´æ”¹é“¾æ¥ |
| 303 | See Other | è¯·æ±‚å¯¹åº”çš„èµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ª URIï¼Œè¯·ä½¿ç”¨GETæ–¹æ³•è¿›è¡Œè·å– |
| 304 | Not Modified | æœåŠ¡å™¨ç«¯å…è®¸è¯·æ±‚è®¿ é—®èµ„æºï¼Œä½†æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚&lt;â€“ æ¡ä»¶è®¿é—® |
| 307 | Temporary Redirect | ä¸´æ—¶é‡å®šå‘â€“&gt;307 ä¼šéµç…§æµè§ˆå™¨æ ‡å‡†ï¼Œä¸ä¼šä» POST å˜æˆ GETã€‚ |
| **4XX** | **Client Error\(å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç \)** | **æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚** |
| 400 | Bad Request | è¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ |
| 401 | Unauthorized | è¯·æ±‚éœ€è¦æœ‰é€šè¿‡ HTTP è®¤è¯\(BASIC è®¤è¯ã€ DIGEST è®¤è¯\)çš„è®¤è¯ä¿¡æ¯ |
| 403 | Forbidden | è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç» |
| 404 | Not Found | è¯·æ±‚çš„èµ„æº,æœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ° |
| **5XX** | **Server Error\(æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç \)** | **æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™** |
| 500 | Internal Server Error | æœåŠ¡å™¨ç«¯åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ |
| 503 | Service Unavailable | æœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³• å¤„ç†è¯·æ±‚ |

## 5.HTTPé¦–éƒ¨

> æœ‰ 4 ç§ç±»å‹çš„é¦–éƒ¨å­—æ®µï¼šé€šç”¨é¦–éƒ¨å­—æ®µã€è¯·æ±‚é¦–éƒ¨å­—æ®µã€å“åº”é¦–éƒ¨å­—æ®µå’Œå®ä½“é¦–éƒ¨å­—æ®µã€‚

### 5.1 é€šç”¨é¦–éƒ¨å­—æ®µ

| é¦–éƒ¨å­—æ®µå | è¯´æ˜ |
| :--- | :--- |
| Cache-Control | æ§åˆ¶ç¼“å­˜çš„è¡Œä¸º |
| Connection | æ§åˆ¶ä¸å†è½¬å‘ç»™ä»£ç†çš„é¦–éƒ¨å­—æ®µã€ç®¡ç†æŒä¹…è¿æ¥ |
| Date | åˆ›å»ºæŠ¥æ–‡çš„æ—¥æœŸæ—¶é—´ |
| Pragma | æŠ¥æ–‡æŒ‡ä»¤ |
| Trailer | æŠ¥æ–‡æœ«ç«¯çš„é¦–éƒ¨ä¸€è§ˆ |
| Transfer-Encoding | æŒ‡å®šæŠ¥æ–‡ä¸»ä½“çš„ä¼ è¾“ç¼–ç æ–¹å¼ |
| Upgrade | å‡çº§ä¸ºå…¶ä»–åè®® |
| Via | ä»£ç†æœåŠ¡å™¨çš„ç›¸å…³ä¿¡æ¯ |
| Warning | é”™è¯¯é€šçŸ¥ |

### 5.2 è¯·æ±‚é¦–éƒ¨å­—æ®µ

| é¦–éƒ¨å­—æ®µå | è¯´æ˜ |
| :--- | :--- |
| Accept | ç”¨æˆ·ä»£ç†å¯å¤„ç†çš„åª’ä½“ç±»å‹ |
| Accept-Charset | ä¼˜å…ˆçš„å­—ç¬¦é›† |
| Accept-Encoding | ä¼˜å…ˆçš„å†…å®¹ç¼–ç  |
| Accept-Language | ä¼˜å…ˆçš„è¯­è¨€ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰ |
| Authorization | Web è®¤è¯ä¿¡æ¯ |
| Expect | æœŸå¾…æœåŠ¡å™¨çš„ç‰¹å®šè¡Œä¸º |
| From | ç”¨æˆ·çš„ç”µå­é‚®ç®±åœ°å€ |
| Host | è¯·æ±‚èµ„æºæ‰€åœ¨æœåŠ¡å™¨ |
| If-Match | æ¯”è¾ƒå®ä½“æ ‡è®°ï¼ˆETagï¼‰ |
| If-Modified-Since | æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´ |
| If-None-Match | æ¯”è¾ƒå®ä½“æ ‡è®°ï¼ˆä¸ If-Match ç›¸åï¼‰ |
| If-Range | èµ„æºæœªæ›´æ–°æ—¶å‘é€å®ä½“ Byte çš„èŒƒå›´è¯·æ±‚ |
| If-Unmodified-Since | æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´ï¼ˆä¸ If-Modified-Since ç›¸åï¼‰ |
| Max-Forwards | æœ€å¤§ä¼ è¾“é€è·³æ•° |
| Proxy-Authorization | ä»£ç†æœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯ |
| Range | å®ä½“çš„å­—èŠ‚èŒƒå›´è¯·æ±‚ |
| Referer | å¯¹è¯·æ±‚ä¸­ URI çš„åŸå§‹è·å–æ–¹ |
| TE | ä¼ è¾“ç¼–ç çš„ä¼˜å…ˆçº§ |
| User-Agent | HTTP å®¢æˆ·ç«¯ç¨‹åºçš„ä¿¡æ¯ |

### 5.3 å“åº”é¦–éƒ¨å­—æ®µ

| é¦–éƒ¨å­—æ®µå | è¯´æ˜ |
| :--- | :--- |
| Accept-Ranges | æ˜¯å¦æ¥å—å­—èŠ‚èŒƒå›´è¯·æ±‚ |
| Age | æ¨ç®—èµ„æºåˆ›å»ºç»è¿‡æ—¶é—´ |
| ETag | èµ„æºçš„åŒ¹é…ä¿¡æ¯ |
| Location | ä»¤å®¢æˆ·ç«¯é‡å®šå‘è‡³æŒ‡å®š URI |
| Proxy-Authenticate | ä»£ç†æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯ |
| Retry-After | å¯¹å†æ¬¡å‘èµ·è¯·æ±‚çš„æ—¶æœºè¦æ±‚ |
| Server | HTTP æœåŠ¡å™¨çš„å®‰è£…ä¿¡æ¯ |
| Vary | ä»£ç†æœåŠ¡å™¨ç¼“å­˜çš„ç®¡ç†ä¿¡æ¯ |
| WWW-Authenticate | æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯ |

### 5.4 å®ä½“é¦–éƒ¨å­—æ®µ

| é¦–éƒ¨å­—æ®µå | è¯´æ˜ |
| :--- | :--- |
| Allow | èµ„æºå¯æ”¯æŒçš„ HTTP æ–¹æ³• |
| Content-Encoding | å®ä½“ä¸»ä½“é€‚ç”¨çš„ç¼–ç æ–¹å¼ |
| Content-Language | å®ä½“ä¸»ä½“çš„è‡ªç„¶è¯­è¨€ |
| Content-Length | å®ä½“ä¸»ä½“çš„å¤§å° |
| Content-Location | æ›¿ä»£å¯¹åº”èµ„æºçš„ URI |
| Content-MD5 | å®ä½“ä¸»ä½“çš„æŠ¥æ–‡æ‘˜è¦ |
| Content-Range | å®ä½“ä¸»ä½“çš„ä½ç½®èŒƒå›´ |
| Content-Type | å®ä½“ä¸»ä½“çš„åª’ä½“ç±»å‹ |
| Expires | å®ä½“ä¸»ä½“è¿‡æœŸçš„æ—¥æœŸæ—¶é—´ |
| Last-Modified | èµ„æºçš„æœ€åä¿®æ”¹æ—¥æœŸæ—¶é—´ |



## 

## 6.Cookieå’ŒSession\*

### 6.1 Cookie

> HTTP/1.1 å¼•å…¥ Cookieã€‚

HTTP åè®®æ˜¯**æ— çŠ¶æ€**çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®© HTTP åè®®å°½å¯èƒ½ç®€å•ï¼Œä½¿å¾—å®ƒèƒ½å¤Ÿå¤„ç†å¤§é‡äº‹åŠ¡ã€‚HTTP/1.1 å¼•å…¥ Cookie æ¥ä¿å­˜çŠ¶æ€ä¿¡æ¯ã€‚

Cookie æ˜¯æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¹‹åå‘åŒä¸€æœåŠ¡å™¨å†æ¬¡å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦ä¸Šï¼Œç”¨äºå‘ŠçŸ¥æœåŠ¡ç«¯ä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€æµè§ˆå™¨ã€‚ç”±äºä¹‹åæ¯æ¬¡è¯·æ±‚éƒ½ä¼šéœ€è¦æºå¸¦ Cookie æ•°æ®ï¼Œå› æ­¤ä¼šå¸¦æ¥é¢å¤–çš„æ€§èƒ½å¼€é”€ï¼ˆå°¤å…¶æ˜¯åœ¨ç§»åŠ¨ç¯å¢ƒä¸‹ï¼‰ã€‚

Cookie æ›¾ä¸€åº¦ç”¨äºå®¢æˆ·ç«¯æ•°æ®çš„å­˜å‚¨ï¼Œå› ä¸ºå½“æ—¶å¹¶æ²¡æœ‰å…¶å®ƒåˆé€‚çš„å­˜å‚¨åŠæ³•è€Œä½œä¸ºå”¯ä¸€çš„å­˜å‚¨æ‰‹æ®µï¼Œä½†ç°åœ¨éšç€ç°ä»£æµè§ˆå™¨å¼€å§‹æ”¯æŒå„ç§å„æ ·çš„å­˜å‚¨æ–¹å¼ï¼ŒCookie æ¸æ¸è¢«æ·˜æ±°ã€‚æ–°çš„æµè§ˆå™¨ API å·²ç»å…è®¸å¼€å‘è€…ç›´æ¥å°†æ•°æ®å­˜å‚¨åˆ°æœ¬åœ°ï¼Œå¦‚ä½¿ç”¨ Web storage APIï¼ˆæœ¬åœ°å­˜å‚¨å’Œä¼šè¯å­˜å‚¨ï¼‰æˆ– IndexedDBã€‚

**1. ç”¨é€”**

* ä¼šè¯çŠ¶æ€ç®¡ç†ï¼ˆå¦‚ç”¨æˆ·ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦ã€æ¸¸æˆåˆ†æ•°æˆ–å…¶å®ƒéœ€è¦è®°å½•çš„ä¿¡æ¯ï¼‰
* ä¸ªæ€§åŒ–è®¾ç½®ï¼ˆå¦‚ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®ã€ä¸»é¢˜ç­‰ï¼‰
* æµè§ˆå™¨è¡Œä¸ºè·Ÿè¸ªï¼ˆå¦‚è·Ÿè¸ªåˆ†æç”¨æˆ·è¡Œä¸ºç­‰ï¼‰

**2. åˆ›å»ºè¿‡ç¨‹**

æœåŠ¡å™¨å‘é€çš„å“åº”æŠ¥æ–‡åŒ…å« Set-Cookie é¦–éƒ¨å­—æ®µï¼Œå®¢æˆ·ç«¯å¾—åˆ°å“åº”æŠ¥æ–‡åæŠŠ Cookie å†…å®¹ä¿å­˜åˆ°æµè§ˆå™¨ä¸­ã€‚

```text
 HTTP/1.1 200 OK
 Content-type: text/html
 Set-Cookie: yummy_cookie=choco
 Set-Cookie: tasty_cookie=strawberry
 â€‹
 [page content]
```

å®¢æˆ·ç«¯ä¹‹åå¯¹åŒä¸€ä¸ªæœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šä»æµè§ˆå™¨ä¸­å–å‡º Cookie ä¿¡æ¯å¹¶é€šè¿‡ Cookie è¯·æ±‚é¦–éƒ¨å­—æ®µå‘é€ç»™æœåŠ¡å™¨ã€‚\[å°†Cookieä¿¡æ¯ä¸€åŒè¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨\]

```text
 GET /sample_page.html HTTP/1.1
 Host: www.example.org
 Cookie: yummy_cookie=choco; tasty_cookie=strawberry
```

**3. åˆ†ç±»**

* ä¼šè¯æœŸ Cookieï¼šæµè§ˆå™¨å…³é—­ä¹‹åå®ƒä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒ**ä»…åœ¨ä¼šè¯æœŸå†…æœ‰æ•ˆ**ã€‚
* æŒä¹…æ€§ Cookieï¼šæŒ‡å®šè¿‡æœŸæ—¶é—´ï¼ˆExpiresï¼‰æˆ–æœ‰æ•ˆæœŸï¼ˆmax-ageï¼‰ä¹‹åå°±æˆä¸ºäº†æŒä¹…æ€§çš„ Cookieã€‚

```text
 Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT;// è®¾ç½®è¿‡æœŸæ—¶é—´
```

**4. ä½œç”¨åŸŸ**

Domain æ ‡è¯†æŒ‡å®šäº†å“ªäº›ä¸»æœºå¯ä»¥æ¥å— Cookieã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºåˆ›å»ºCookieçš„æœåŠ¡å™¨åŸŸåï¼ˆä¸åŒ…å«å­åŸŸåï¼‰ã€‚å¦‚æœæŒ‡å®šäº† Domainï¼Œåˆ™ä¸€èˆ¬åŒ…å«å­åŸŸåã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¾ç½® Domain=mozilla.orgï¼Œåˆ™ Cookie ä¹ŸåŒ…å«åœ¨å­åŸŸåä¸­ï¼ˆå¦‚ developer.mozilla.orgï¼‰ã€‚

Path æ ‡è¯†æŒ‡å®šäº†ä¸»æœºä¸‹çš„å“ªäº›è·¯å¾„å¯ä»¥æ¥å— Cookieï¼ˆè¯¥ URL è·¯å¾„å¿…é¡»å­˜åœ¨äºè¯·æ±‚ URL ä¸­ï¼‰ã€‚ä»¥å­—ç¬¦ %x2F \("/"\) ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ï¼Œå­è·¯å¾„ä¹Ÿä¼šè¢«åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œè®¾ç½® Path=/docsï¼Œåˆ™ä»¥ä¸‹åœ°å€éƒ½ä¼šåŒ¹é…ï¼šã€å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºæ–‡æ¡£æ‰€åœ¨çš„æ–‡ä»¶ç›®å½•ã€‘

* /docs
* /docs/Web/
* /docs/Web/HTTP

**5. JavaScript**

æµè§ˆå™¨é€šè¿‡ `document.cookie` å±æ€§å¯åˆ›å»ºæ–°çš„ Cookieï¼Œä¹Ÿå¯é€šè¿‡è¯¥å±æ€§è®¿é—®é HttpOnly æ ‡è®°çš„ Cookieã€‚ã€HttpOnlyå±æ€§å¯ä»¥é˜²æ­¢javaScriptè®¿é—®Cookieï¼Œåªå…è®¸HTTPåè®®è®¿é—®ã€‘

```text
 document.cookie = "yummy_cookie=choco";
 document.cookie = "tasty_cookie=strawberry";
 console.log(document.cookie);
```

**6. HttpOnly**

æ ‡è®°ä¸º HttpOnly çš„ Cookie ä¸èƒ½è¢« JavaScript è„šæœ¬è°ƒç”¨ã€‚è·¨ç«™è„šæœ¬æ”»å‡» \(XSS\) å¸¸å¸¸ä½¿ç”¨ JavaScript çš„ `document.cookie` API çªƒå–ç”¨æˆ·çš„ Cookie ä¿¡æ¯ï¼Œå› æ­¤ä½¿ç”¨ HttpOnly æ ‡è®°å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å… XSS æ”»å‡»ã€‚

```text
 Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly
```

**7. Secure**

æ ‡è®°ä¸º Secure çš„ Cookie åªèƒ½é€šè¿‡è¢« HTTPS åè®®åŠ å¯†è¿‡çš„è¯·æ±‚å‘é€ç»™æœåŠ¡ç«¯ã€‚ä½†å³ä¾¿è®¾ç½®äº† Secure æ ‡è®°ï¼Œæ•æ„Ÿä¿¡æ¯ä¹Ÿä¸åº”è¯¥é€šè¿‡ Cookie ä¼ è¾“ï¼Œå› ä¸º Cookie æœ‰å…¶å›ºæœ‰çš„ä¸å®‰å…¨æ€§ï¼ŒSecure æ ‡è®°ä¹Ÿæ— æ³•æä¾›ç¡®å®çš„å®‰å…¨ä¿éšœã€‚

### **6.1.8.Session**

> æ•°æ®æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ã€‚

é™¤äº†å¯ä»¥å°†ç”¨æˆ·ä¿¡æ¯é€šè¿‡ Cookie å­˜å‚¨åœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ Session å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œå­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ä¿¡æ¯æ›´åŠ å®‰å…¨ã€‚

Session å¯ä»¥å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ã€æ•°æ®åº“æˆ–è€…å†…å­˜ä¸­ã€‚ä¹Ÿå¯ä»¥å°† Session å­˜å‚¨åœ¨ Redis è¿™ç§å†…å­˜å‹æ•°æ®åº“ä¸­ï¼Œæ•ˆç‡ä¼šæ›´é«˜ã€‚

ä½¿ç”¨ Session ç»´æŠ¤ç”¨æˆ·ç™»å½•çŠ¶æ€çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š

* ç”¨æˆ·è¿›è¡Œç™»å½•æ—¶ï¼Œç”¨æˆ·æäº¤åŒ…å«ç”¨æˆ·åå’Œå¯†ç çš„è¡¨å•ï¼Œæ”¾å…¥ HTTP è¯·æ±‚æŠ¥æ–‡ä¸­ï¼›
* æœåŠ¡å™¨éªŒè¯è¯¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚æœæ­£ç¡®åˆ™æŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ° Redis ä¸­ï¼Œå®ƒåœ¨ Redis ä¸­çš„ Key ç§°ä¸º Session IDï¼›
* æœåŠ¡å™¨è¿”å›çš„å“åº”æŠ¥æ–‡çš„ Set-Cookie é¦–éƒ¨å­—æ®µåŒ…å«äº†è¿™ä¸ª Session IDï¼Œå®¢æˆ·ç«¯æ”¶åˆ°å“åº”æŠ¥æ–‡ä¹‹åå°†è¯¥ Cookie å€¼å­˜å…¥æµè§ˆå™¨ä¸­ï¼›
* å®¢æˆ·ç«¯ä¹‹åå¯¹åŒä¸€ä¸ªæœåŠ¡å™¨è¿›è¡Œè¯·æ±‚æ—¶ä¼šåŒ…å«è¯¥ Cookie å€¼ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ä¹‹åæå–å‡º Session IDï¼Œä» Redis ä¸­å–å‡ºç”¨æˆ·ä¿¡æ¯ï¼Œç»§ç»­ä¹‹å‰çš„ä¸šåŠ¡æ“ä½œã€‚

åº”è¯¥æ³¨æ„ Session ID çš„å®‰å…¨æ€§é—®é¢˜ï¼Œä¸èƒ½è®©å®ƒè¢«æ¶æ„æ”»å‡»è€…è½»æ˜“è·å–ï¼Œé‚£ä¹ˆå°±ä¸èƒ½äº§ç”Ÿä¸€ä¸ªå®¹æ˜“è¢«çŒœåˆ°çš„ Session ID å€¼ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦ç»å¸¸é‡æ–°ç”Ÿæˆ Session IDã€‚åœ¨å¯¹å®‰å…¨æ€§è¦æ±‚æé«˜çš„åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚è½¬è´¦ç­‰æ“ä½œï¼Œé™¤äº†ä½¿ç”¨ Session ç®¡ç†ç”¨æˆ·çŠ¶æ€ä¹‹å¤–ï¼Œè¿˜éœ€è¦å¯¹ç”¨æˆ·è¿›è¡Œé‡æ–°éªŒè¯ï¼Œæ¯”å¦‚é‡æ–°è¾“å…¥å¯†ç ï¼Œæˆ–è€…ä½¿ç”¨çŸ­ä¿¡éªŒè¯ç ç­‰æ–¹å¼ã€‚

**9. æµè§ˆå™¨ç¦ç”¨ Cookie**

æ­¤æ—¶æ— æ³•ä½¿ç”¨ Cookie æ¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œåªèƒ½ä½¿ç”¨ Sessionã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸èƒ½å†å°† Session ID å­˜æ”¾åˆ° Cookie ä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨ URL é‡å†™æŠ€æœ¯ï¼Œå°† Session ID ä½œä¸º URL çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚

**10. Cookie ä¸ Session é€‰æ‹©**

* Cookie åªèƒ½å­˜å‚¨ ASCII ç å­—ç¬¦ä¸²ï¼Œè€Œ Session åˆ™å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå› æ­¤åœ¨è€ƒè™‘**æ•°æ®å¤æ‚æ€§**æ—¶é¦–é€‰ Sessionï¼›
* Cookie å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼Œå®¹æ˜“è¢«æ¶æ„æŸ¥çœ‹ã€‚å¦‚æœéè¦å°†ä¸€äº›éšç§æ•°æ®å­˜åœ¨ Cookie ä¸­ï¼Œå¯ä»¥å°† Cookie å€¼è¿›è¡ŒåŠ å¯†ï¼Œç„¶ååœ¨æœåŠ¡å™¨è¿›è¡Œè§£å¯†ï¼›
* å¯¹äºå¤§å‹ç½‘ç«™ï¼Œå¦‚æœç”¨æˆ·æ‰€æœ‰çš„ä¿¡æ¯éƒ½å­˜å‚¨åœ¨ Session ä¸­ï¼Œé‚£ä¹ˆå¼€é”€æ˜¯éå¸¸å¤§çš„ï¼Œå› æ­¤ä¸å»ºè®®å°†æ‰€æœ‰çš„ç”¨æˆ·ä¿¡æ¯éƒ½å­˜å‚¨åˆ° Session ä¸­ã€‚

## 7.HTTPå®ç°æ–¹å¼\*

> HTTPåè®®åœ¨åº”ç”¨å±‚ï¼Œé‚£è‚¯å®šæ˜¯åŸºäºä¼ è¾“å±‚æ¥å®ç°çš„ï¼Œæ˜¯åŸºäºä¼ è¾“å±‚çš„TCPå®ç°çš„ã€‚

å‚è€ƒé“¾æ¥ï¼š[https://www.runoob.com/http/http-intro.html](https://www.runoob.com/http/http-intro.html)

HTTPåè®®æ˜¯Hyper Text Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç¼©å†™,æ˜¯ç”¨äºä»ä¸‡ç»´ç½‘ï¼ˆWWW:World Wide Web ï¼‰æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚ã€‚

HTTPæ˜¯ä¸€ä¸ª**åŸºäºTCP/IPé€šä¿¡åè®®**æ¥ä¼ é€’æ•°æ®ï¼ˆHTML æ–‡ä»¶, å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æœç­‰ï¼‰ã€‚

è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼ŒHyperText Transfer Protocol\)æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚è®¾è®¡ HTTP æœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§**å‘å¸ƒå’Œæ¥æ”¶ HTML é¡µé¢çš„æ–¹æ³•**ã€‚HTTP åè®®æ˜¯ä»¥**æ˜æ–‡**æ–¹å¼å‘é€ä¿¡æ¯çš„ï¼Œå¦‚æœé»‘å®¢æˆªå–äº† Web æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è·å¾—å…¶ä¸­çš„ä¿¡æ¯ã€‚

â‘  å®¢æˆ·ç«¯çš„æµè§ˆå™¨é¦–å…ˆè¦é€šè¿‡ TCP ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œä¸€èˆ¬ TCP è¿æ¥çš„ç«¯å£å·æ˜¯80ã€‚ å»ºç«‹è¿æ¥åï¼Œå®¢æˆ·æœºå‘é€ä¸€ä¸ªè¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œè¯·æ±‚æ–¹å¼çš„æ ¼å¼ä¸ºï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURLï¼‰ã€åè®®ç‰ˆæœ¬å·ï¼Œåè¾¹æ˜¯ MIME ä¿¡æ¯åŒ…æ‹¬è¯·æ±‚ä¿®é¥°ç¬¦ã€å®¢æˆ·æœºä¿¡æ¯å’Œè®¸å¯å†…å®¹ã€‚

â‘¡ æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚åï¼Œç»™äºˆç›¸åº”çš„å“åº”ä¿¡æ¯ï¼Œå…¶æ ¼å¼ä¸ºä¸€ä¸ªçŠ¶æ€è¡Œï¼ŒåŒ…æ‹¬ä¿¡æ¯çš„åè®®ç‰ˆæœ¬å·ã€ä¸€ä¸ªæˆåŠŸæˆ–é”™è¯¯çš„ä»£ç ï¼Œåè¾¹æ˜¯ MIME ä¿¡æ¯åŒ…æ‹¬æœåŠ¡å™¨ä¿¡æ¯ã€å®ä½“ä¿¡æ¯å’Œå¯èƒ½çš„å†…å®¹ã€‚

### HTTPå·¥ä½œåŸç†

HTTPåè®®å·¥ä½œäºå®¢æˆ·ç«¯-æœåŠ¡ç«¯æ¶æ„ä¸Šã€‚æµè§ˆå™¨ä½œä¸ºHTTPå®¢æˆ·ç«¯é€šè¿‡URLå‘HTTPæœåŠ¡ç«¯å³WEBæœåŠ¡å™¨å‘é€æ‰€æœ‰è¯·æ±‚ã€‚

WebæœåŠ¡å™¨æœ‰ï¼šApacheæœåŠ¡å™¨ï¼ŒIISæœåŠ¡å™¨ï¼ˆInternet Information Servicesï¼‰ç­‰ã€‚

WebæœåŠ¡å™¨æ ¹æ®æ¥æ”¶åˆ°çš„è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯å‘é€å“åº”ä¿¡æ¯ã€‚

HTTPé»˜è®¤ç«¯å£å·ä¸º80ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æ”¹ä¸º8080æˆ–è€…å…¶ä»–ç«¯å£ã€‚

**HTTPä¸‰ç‚¹æ³¨æ„äº‹é¡¹ï¼š**

* HTTPæ˜¯**æ— è¿æ¥**ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥ã€‚**é‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´**ã€‚
* HTTPæ˜¯**åª’ä½“ç‹¬ç«‹çš„**ï¼šè¿™æ„å‘³ç€ï¼Œåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çŸ¥é“å¦‚ä½•å¤„ç†çš„æ•°æ®å†…å®¹ï¼Œä»»ä½•ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥é€šè¿‡HTTPå‘é€ã€‚å®¢æˆ·ç«¯ä»¥åŠæœåŠ¡å™¨æŒ‡å®šä½¿ç”¨é€‚åˆçš„MIME-typeå†…å®¹ç±»å‹ã€‚
* HTTPæ˜¯æ— çŠ¶æ€ï¼šHTTPåè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±è¾ƒå¿«ã€‚

ä»¥ä¸‹å›¾è¡¨å±•ç¤ºäº†HTTPåè®®é€šä¿¡æµç¨‹ï¼š

![HTTP&#x534F;&#x8BAE;&#x901A;&#x4FE1;&#x6D41;&#x7A0B;](../.gitbook/assets/image%20%286%29.png)

æ³¨ï¼šCGIæ˜¯å¤–éƒ¨åº”ç”¨ç¨‹åºä¸WEBæœåŠ¡å™¨ä¹‹é—´çš„æ¥å£æ ‡å‡†ã€‚

MIME\(Multipurpose Internet Mail Extensions\):å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹

## ^8.æŠ“åŒ… Wire shark

## 9.HTTPç¼“å­˜

### **1. ä¼˜ç‚¹**

* ç¼“è§£æœåŠ¡å™¨å‹åŠ›ï¼›
* é™ä½å®¢æˆ·ç«¯è·å–èµ„æºçš„å»¶è¿Ÿï¼šç¼“å­˜é€šå¸¸ä½äºå†…å­˜ä¸­ï¼Œè¯»å–ç¼“å­˜çš„é€Ÿåº¦æ›´å¿«ã€‚å¹¶ä¸”ç¼“å­˜æœåŠ¡å™¨åœ¨åœ°ç†ä½ç½®ä¸Šä¹Ÿæœ‰å¯èƒ½æ¯”æºæœåŠ¡å™¨æ¥å¾—è¿‘ï¼Œä¾‹å¦‚æµè§ˆå™¨ç¼“å­˜ã€‚

### **2. å®ç°æ–¹æ³•**

* è®©ä»£ç†æœåŠ¡å™¨è¿›è¡Œç¼“å­˜ï¼›
* è®©å®¢æˆ·ç«¯æµè§ˆå™¨è¿›è¡Œç¼“å­˜ã€‚

### **3. Cache-Control**

HTTP/1.1 é€šè¿‡ Cache-Control é¦–éƒ¨å­—æ®µæ¥**æ§åˆ¶ç¼“å­˜**ã€‚

#### **3.1 ç¦æ­¢è¿›è¡Œç¼“å­˜**

no-store æŒ‡ä»¤è§„å®šä¸èƒ½å¯¹è¯·æ±‚æˆ–å“åº”çš„ä»»ä½•ä¸€éƒ¨åˆ†è¿›è¡Œç¼“å­˜ã€‚

```text
 Cache-Control: no-store
```

#### **3.2 å¼ºåˆ¶ç¡®è®¤ç¼“å­˜**

**no-cache** æŒ‡ä»¤è§„å®šç¼“å­˜æœåŠ¡å™¨éœ€è¦å…ˆå‘æºæœåŠ¡å™¨éªŒè¯ç¼“å­˜èµ„æºçš„**æœ‰æ•ˆæ€§**ï¼Œåªæœ‰å½“ç¼“å­˜èµ„æºæœ‰æ•ˆæ—¶æ‰èƒ½ä½¿ç”¨è¯¥ç¼“å­˜å¯¹å®¢æˆ·ç«¯çš„è¯·æ±‚è¿›è¡Œå“åº”ã€‚

```text
 Cache-Control: no-cache
```

#### **3.3 ç§æœ‰ç¼“å­˜å’Œå…¬å…±ç¼“å­˜**

private æŒ‡ä»¤è§„å®šäº†å°†èµ„æºä½œä¸ºç§æœ‰ç¼“å­˜ï¼Œåªèƒ½è¢«å•ç‹¬ç”¨æˆ·ä½¿ç”¨ï¼Œä¸€èˆ¬å­˜å‚¨åœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­ã€‚

```text
 Cache-Control: private
```

public æŒ‡ä»¤è§„å®šäº†å°†èµ„æºä½œä¸ºå…¬å…±ç¼“å­˜ï¼Œå¯ä»¥è¢«å¤šä¸ªç”¨æˆ·ä½¿ç”¨ï¼Œä¸€èˆ¬å­˜å‚¨åœ¨ä»£ç†æœåŠ¡å™¨ä¸­ã€‚

```text
 Cache-Control: public
```

#### **3.4 ç¼“å­˜è¿‡æœŸæœºåˆ¶**

max-age æŒ‡ä»¤å‡ºç°åœ¨è¯·æ±‚æŠ¥æ–‡ï¼Œå¹¶ä¸”ç¼“å­˜èµ„æºçš„ç¼“å­˜æ—¶é—´å°äºè¯¥æŒ‡ä»¤æŒ‡å®šçš„æ—¶é—´ï¼Œé‚£ä¹ˆå°±èƒ½æ¥å—è¯¥ç¼“å­˜ã€‚

max-age æŒ‡ä»¤å‡ºç°åœ¨å“åº”æŠ¥æ–‡ï¼Œè¡¨ç¤ºç¼“å­˜èµ„æºåœ¨ç¼“å­˜æœåŠ¡å™¨ä¸­ä¿å­˜çš„æ—¶é—´ã€‚

```text
 Cache-Control: max-age=31536000
```

Expires é¦–éƒ¨å­—æ®µä¹Ÿå¯ä»¥ç”¨äºå‘ŠçŸ¥ç¼“å­˜æœåŠ¡å™¨è¯¥èµ„æºä»€ä¹ˆæ—¶å€™ä¼š**è¿‡æœŸ**ã€‚

```text
 Expires: Wed, 04 Jul 2012 08:26:05 GMT
```

* åœ¨ HTTP/1.1 ä¸­ï¼Œä¼šä¼˜å…ˆå¤„ç† max-age æŒ‡ä»¤ï¼›
* åœ¨ HTTP/1.0 ä¸­ï¼Œmax-age æŒ‡ä»¤ä¼šè¢«å¿½ç•¥æ‰ã€‚

### **4. ç¼“å­˜éªŒè¯**

éœ€è¦å…ˆäº†è§£ ETag é¦–éƒ¨å­—æ®µçš„å«ä¹‰ï¼Œå®ƒæ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†ã€‚URL ä¸èƒ½å”¯ä¸€è¡¨ç¤ºèµ„æºï¼Œä¾‹å¦‚ `http://www.google.com/` æœ‰ä¸­æ–‡å’Œè‹±æ–‡ä¸¤ä¸ªèµ„æºï¼Œåªæœ‰ ETag æ‰èƒ½å¯¹è¿™ä¸¤ä¸ªèµ„æºè¿›è¡Œå”¯ä¸€æ ‡è¯†ã€‚

```text
 ETag: "82e22293907ce725faf67773957acd12"
```

å¯ä»¥å°†ç¼“å­˜èµ„æºçš„ ETag å€¼æ”¾å…¥ If-None-Match é¦–éƒ¨ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯¥è¯·æ±‚åï¼Œåˆ¤æ–­ç¼“å­˜èµ„æºçš„ ETag å€¼å’Œèµ„æºçš„æœ€æ–° ETag å€¼æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™è¡¨ç¤ºç¼“å­˜èµ„æºæœ‰æ•ˆï¼Œè¿”å› 304 Not Modifiedã€‚

```text
 If-None-Match: "82e22293907ce725faf67773957acd12"
```

Last-Modified é¦–éƒ¨å­—æ®µä¹Ÿå¯ä»¥ç”¨äºç¼“å­˜éªŒè¯ï¼Œå®ƒåŒ…å«åœ¨æºæœåŠ¡å™¨å‘é€çš„å“åº”æŠ¥æ–‡ä¸­ï¼ŒæŒ‡ç¤ºæºæœåŠ¡å™¨å¯¹èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ã€‚ä½†æ˜¯å®ƒæ˜¯ä¸€ç§å¼±æ ¡éªŒå™¨ï¼Œå› ä¸ºåªèƒ½ç²¾ç¡®åˆ°ä¸€ç§’ï¼Œæ‰€ä»¥å®ƒé€šå¸¸ä½œä¸º ETag çš„å¤‡ç”¨æ–¹æ¡ˆã€‚å¦‚æœå“åº”é¦–éƒ¨å­—æ®µé‡Œå«æœ‰è¿™ä¸ªä¿¡æ¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨åç»­çš„è¯·æ±‚ä¸­å¸¦ä¸Š If-Modified-Since æ¥éªŒè¯ç¼“å­˜ã€‚æœåŠ¡å™¨åªåœ¨æ‰€è¯·æ±‚çš„èµ„æºåœ¨ç»™å®šçš„æ—¥æœŸæ—¶é—´ä¹‹åå¯¹å†…å®¹è¿›è¡Œè¿‡ä¿®æ”¹çš„æƒ…å†µä¸‹æ‰ä¼šå°†èµ„æºè¿”å›ï¼ŒçŠ¶æ€ç ä¸º 200 OKã€‚å¦‚æœè¯·æ±‚çš„èµ„æºä»é‚£æ—¶èµ·æœªç»ä¿®æ”¹ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªä¸å¸¦æœ‰å®ä½“ä¸»ä½“çš„ 304 Not Modified å“åº”æŠ¥æ–‡ã€‚

```text
 Last-Modified: Wed, 21 Oct 2015 07:28:00 GMT
```

```text
 If-Modified-Since: Wed, 21 Oct 2015 07:28:00 GMT
```

## 10.HTTPæŠ¥æ–‡æ ¼å¼

> HTTPæŠ¥æ–‡æ ¼å¼éœ€è¦åŒ[é¦–éƒ¨å­—æ®µ](http.md#5http-shou-bu)ä¸€èµ·è®¨è®ºã€‚

### 10.1 è¯·æ±‚å’Œå“åº”æŠ¥æ–‡

å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ ¹æ®è¯·æ±‚æŠ¥æ–‡ä¸­çš„ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼Œå¹¶å°†å¤„ç†ç»“æœæ”¾å…¥å“åº”æŠ¥æ–‡ä¸­è¿”å›ç»™å®¢æˆ·ç«¯ã€‚

### 10.2 è¯·æ±‚æŠ¥æ–‡ç»“æ„

* ç¬¬ä¸€è¡Œæ˜¯åŒ…å«äº†è¯·æ±‚æ–¹æ³•ã€URLã€åè®®ç‰ˆæœ¬ï¼›
* æ¥ä¸‹æ¥çš„å¤šè¡Œéƒ½æ˜¯è¯·æ±‚é¦–éƒ¨ Headerï¼Œæ¯ä¸ªé¦–éƒ¨éƒ½æœ‰ä¸€ä¸ªé¦–éƒ¨åç§°ï¼Œä»¥åŠå¯¹åº”çš„å€¼ã€‚
* ä¸€ä¸ªç©ºè¡Œç”¨æ¥åˆ†éš”é¦–éƒ¨å’Œå†…å®¹ä¸»ä½“ Body
* æœ€åæ˜¯è¯·æ±‚çš„å†…å®¹ä¸»ä½“

```text
 GET http://www.example.com/ HTTP/1.1
 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
 Accept-Encoding: gzip, deflate
 Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
 Cache-Control: max-age=0
 Host: www.example.com
 If-Modified-Since: Thu, 17 Oct 2019 07:18:26 GMT
 If-None-Match: "3147526947+gzip"
 Proxy-Connection: keep-alive
 Upgrade-Insecure-Requests: 1
 User-Agent: Mozilla/5.0 xxx
 â€‹
 param1=1&param2=2
```

### 10.3 å“åº”æŠ¥æ–‡ç»“æ„

* ç¬¬ä¸€è¡ŒåŒ…å«åè®®ç‰ˆæœ¬ã€çŠ¶æ€ç ä»¥åŠæè¿°ï¼Œæœ€å¸¸è§çš„æ˜¯ 200 OK è¡¨ç¤ºè¯·æ±‚æˆåŠŸäº†
* æ¥ä¸‹æ¥å¤šè¡Œä¹Ÿæ˜¯é¦–éƒ¨å†…å®¹
* ä¸€ä¸ªç©ºè¡Œåˆ†éš”é¦–éƒ¨å’Œå†…å®¹ä¸»ä½“
* æœ€åæ˜¯å“åº”çš„å†…å®¹ä¸»ä½“

```text
 HTTP/1.1 200 OK
 Age: 529651
 Cache-Control: max-age=604800
 Connection: keep-alive
 Content-Encoding: gzip
 Content-Length: 648
 Content-Type: text/html; charset=UTF-8
 Date: Mon, 02 Nov 2020 17:53:39 GMT
 Etag: "3147526947+ident+gzip"
 Expires: Mon, 09 Nov 2020 17:53:39 GMT
 Keep-Alive: timeout=4
 Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT
 Proxy-Connection: keep-alive
 Server: ECS (sjc/16DF)
 Vary: Accept-Encoding
 X-Cache: HIT
 â€‹
 <!doctype html>
 <html>
 <head>
     <title>Example Domain</title>
   // çœç•¥... 
 </body>
 </html>
```

## 11.HTTP å’Œ HTTPSåŒºåˆ«\*

_**HTTPS = HTTP + åŠ å¯† + è®¤è¯ + å®Œæ•´æ€§ä¿æŠ¤**_

> æ³¨ï¼šå…ˆè¯´æ˜[HTTPçš„ç¼ºç‚¹](http.md#2http-que-dian)ã€‚

### 11.1 åŠ å¯†

è§æœ¬æ–‡[ç¬¬ä¸€ç‚¹](http.md#1https-jia-mi-fang-shi)è¯´æ˜ã€‚

### 11.2 è®¤è¯

> å°†å…¬é’¥é€šè¿‡CAè®¤è¯ã€‚

é€šè¿‡ä½¿ç”¨ **è¯ä¹¦** æ¥å¯¹é€šä¿¡æ–¹è¿›è¡Œè®¤è¯ã€‚

æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼ˆCAï¼ŒCertificate Authorityï¼‰æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åŒæ–¹éƒ½å¯ä¿¡èµ–çš„ç¬¬ä¸‰æ–¹æœºæ„ã€‚

æœåŠ¡å™¨çš„è¿è¥äººå‘˜å‘ CA æå‡ºå…¬å¼€å¯†é’¥çš„ç”³è¯·ï¼ŒCA åœ¨åˆ¤æ˜æå‡ºç”³è¯·è€…çš„èº«ä»½ä¹‹åï¼Œä¼šå¯¹å·²ç”³è¯·çš„å…¬å¼€å¯†é’¥åšæ•°å­—ç­¾åï¼Œç„¶ååˆ†é…è¿™ä¸ªå·²ç­¾åçš„å…¬å¼€å¯†é’¥ï¼Œå¹¶å°†è¯¥å…¬å¼€å¯†é’¥æ”¾å…¥å…¬å¼€å¯†é’¥è¯ä¹¦åç»‘å®šåœ¨ä¸€èµ·ã€‚

è¿›è¡Œ HTTPS é€šæ—¶ï¼ŒæœåŠ¡å™¨ä¼šæŠŠè¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å–å¾—å…¶ä¸­çš„å…¬å¼€å¯†é’¥ä¹‹åï¼Œå…ˆä½¿ç”¨æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯ï¼Œå¦‚æœéªŒè¯é€šè¿‡ï¼Œå°±å¯ä»¥å¼€å§‹é€šä¿¡äº†ã€‚â€‹

![](../.gitbook/assets/image%20%2811%29.png)

### 11.3 å®Œæ•´æ€§ä¿æŠ¤

**SSL** æä¾›æŠ¥æ–‡æ‘˜è¦åŠŸèƒ½æ¥è¿›è¡Œå®Œæ•´æ€§ä¿æŠ¤ã€‚

HTTP ä¹Ÿæä¾›äº† MD5 æŠ¥æ–‡æ‘˜è¦åŠŸèƒ½ï¼Œä½†ä¸æ˜¯å®‰å…¨çš„ã€‚ä¾‹å¦‚æŠ¥æ–‡å†…å®¹è¢«ç¯¡æ”¹ä¹‹åï¼ŒåŒæ—¶é‡æ–°è®¡ç®— MD5 çš„å€¼ï¼Œé€šä¿¡æ¥æ”¶æ–¹æ˜¯æ— æ³•æ„è¯†åˆ°å‘ç”Ÿäº†ç¯¡æ”¹ã€‚

HTTPS çš„æŠ¥æ–‡æ‘˜è¦åŠŸèƒ½ä¹‹æ‰€ä»¥å®‰å…¨ï¼Œæ˜¯å› ä¸ºå®ƒç»“åˆäº†åŠ å¯†å’Œè®¤è¯è¿™ä¸¤ä¸ªæ“ä½œã€‚è¯•æƒ³ä¸€ä¸‹ï¼ŒåŠ å¯†ä¹‹åçš„æŠ¥æ–‡ï¼Œé­åˆ°ç¯¡æ”¹ä¹‹åï¼Œä¹Ÿå¾ˆéš¾é‡æ–°è®¡ç®—æŠ¥æ–‡æ‘˜è¦ï¼Œå› ä¸ºæ— æ³•è½»æ˜“è·å–æ˜æ–‡ã€‚

### 11.4 HTTPè¿›åŒ–å²\*\*\*

> æ³¨ï¼šä¸ç®¡é¢è¯•å®˜æ€ä¹ˆé—®ï¼Œæˆ‘å›ç­”çš„æ—¶å€™éƒ½å¯ä»¥ä»HTTP1.0å¼€å§‹é€’æ¨åˆ°HTTP3.0

HTTP1å’ŒHTTP2çš„åŒºåˆ«ï¼ŒHTTP2å’ŒHTTPSå…³ç³»

**ğŸ‘‰HTTP1.1ç›¸æ¯”HTTP1.0çš„ä¼˜åŒ–**ï¼ˆæŒ‘å‡ ä¸ªç‚¹è®°ä½å°±è¡Œäº†ï¼‰é•¿è¿æ¥ã€æµæ°´çº¿ã€hostå­—æ®µã€å¤´éƒ¨

1. **HTTP1.1æ”¯æŒé•¿è¿æ¥å’Œè¯·æ±‚çš„æµæ°´çº¿å¤„ç†**
   1. **HTTP 1.0è§„å®šæµè§ˆå™¨ä¸æœåŠ¡å™¨åªä¿æŒçŸ­æš‚çš„è¿æ¥**ï¼Œæµè§ˆå™¨çš„æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼ŒæœåŠ¡å™¨å®Œæˆè¯·æ±‚å¤„ç†åç«‹å³æ–­å¼€TCPè¿æ¥ï¼ŒæœåŠ¡å™¨ä¸è·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ä¹Ÿä¸è®°å½•è¿‡å»çš„è¯·æ±‚ã€‚
   2. **HTTP 1.1åˆ™æ”¯æŒæŒä¹…è¿æ¥Persistent Connection,** å¹¶ä¸”é»˜è®¤ä½¿ç”¨persistent connectionã€‚åœ¨åŒä¸€ä¸ªTCPçš„è¿æ¥ä¸­å¯ä»¥ä¼ é€å¤šä¸ªHTTPè¯·æ±‚å’Œå“åº”ã€‚å¤šä¸ªè¯·æ±‚å’Œå“åº”å¯ä»¥é‡å ï¼Œå¤šä¸ªè¯·æ±‚å’Œå“åº”å¯ä»¥åŒæ—¶è¿›è¡Œã€‚æ›´åŠ å¤šçš„è¯·æ±‚å¤´å’Œå“åº”å¤´\(æ¯”å¦‚HTTP1.0æ²¡æœ‰hostçš„å­—æ®µ\)ã€‚
   3. **HTTP 1.1çš„æŒç»­è¿æ¥ï¼Œ**ä¹Ÿéœ€è¦å¢åŠ æ–°çš„è¯·æ±‚å¤´æ¥å¸®åŠ©å®ç°ï¼Œä¾‹å¦‚ï¼ŒConnectionè¯·æ±‚å¤´çš„å€¼ä¸ºKeep-Aliveæ—¶ï¼Œå®¢æˆ·ç«¯é€šçŸ¥æœåŠ¡å™¨è¿”å›æœ¬æ¬¡è¯·æ±‚ç»“æœåä¿æŒè¿æ¥ï¼›Connectionè¯·æ±‚å¤´çš„å€¼ä¸ºcloseæ—¶ï¼Œå®¢æˆ·ç«¯é€šçŸ¥æœåŠ¡å™¨è¿”å›æœ¬æ¬¡è¯·æ±‚ç»“æœåå…³é—­è¿æ¥ã€‚
2. **æ”¯æŒç®¡é“ï¼ˆpipelineï¼‰ç½‘ç»œä¼ è¾“ï¼Œåªè¦ç¬¬ä¸€ä¸ªè¯·æ±‚å‘å‡ºå»äº†ï¼Œä¸å¿…ç­‰å…¶å›æ¥ï¼Œå°±å¯ä»¥å‘ç¬¬äºŒä¸ªè¯·æ±‚å‡ºå»ï¼Œå¯ä»¥å‡å°‘æ•´ä½“çš„å“åº”æ—¶é—´**ã€‚//å°±æ˜¯æµæ°´çº¿
   1. è¯·æ±‚çš„æµæ°´çº¿ï¼ˆPipeliningï¼‰å¤„ç†ï¼Œåœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šå¯ä»¥ä¼ é€å¤šä¸ªHTTPè¯·æ±‚å’Œå“åº”ï¼Œå‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªåŒ…å«æœ‰è®¸å¤šå›¾åƒçš„ç½‘é¡µæ–‡ä»¶çš„å¤šä¸ªè¯·æ±‚å’Œåº”ç­”å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸­ä¼ è¾“ï¼Œä½†æ¯ä¸ªå•ç‹¬çš„ç½‘é¡µæ–‡ä»¶çš„è¯·æ±‚å’Œåº”ç­”ä»ç„¶éœ€è¦ä½¿ç”¨å„è‡ªçš„è¿æ¥ã€‚ HTTP 1.1è¿˜å…è®¸å®¢æˆ·ç«¯ä¸ç”¨ç­‰å¾…ä¸Šä¸€æ¬¡è¯·æ±‚ç»“æœè¿”å›ï¼Œå°±å¯ä»¥å‘å‡ºä¸‹ä¸€æ¬¡è¯·æ±‚ï¼Œä½†æœåŠ¡å™¨ç«¯å¿…é¡»æŒ‰ç…§æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚çš„å…ˆåé¡ºåºä¾æ¬¡å›é€å“åº”ç»“æœï¼Œä»¥ä¿è¯å®¢æˆ·ç«¯èƒ½å¤ŸåŒºåˆ†å‡ºæ¯æ¬¡è¯·æ±‚çš„å“åº”å†…å®¹ã€‚
3. **HTTP 1.1è¿˜æä¾›äº†ä¸èº«ä»½è®¤è¯ã€çŠ¶æ€ç®¡ç†å’ŒCacheç¼“å­˜ç­‰æœºåˆ¶ç›¸å…³çš„è¯·æ±‚å¤´å’Œå“åº”å¤´ã€‚**
4. **HTTP1.1å¢åŠ hostå­—æ®µ**
   1. åœ¨HTTP1.0ä¸­è®¤ä¸ºæ¯å°æœåŠ¡å™¨éƒ½ç»‘å®šä¸€ä¸ªå”¯ä¸€çš„IPåœ°å€ï¼Œå› æ­¤ï¼Œè¯·æ±‚æ¶ˆæ¯ä¸­çš„URLå¹¶æ²¡æœ‰ä¼ é€’ä¸»æœºåï¼ˆhostnameï¼‰ã€‚ä½†éšç€è™šæ‹Ÿä¸»æœºæŠ€æœ¯çš„å‘å±•ï¼Œåœ¨ä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šå¯ä»¥å­˜åœ¨å¤šä¸ªè™šæ‹Ÿä¸»æœºï¼ˆMulti-homed Web Serversï¼‰ï¼Œå¹¶ä¸”å®ƒä»¬å…±äº«ä¸€ä¸ªIPåœ°å€ã€‚
   2. **HTTP1.1çš„è¯·æ±‚æ¶ˆæ¯å’Œå“åº”æ¶ˆæ¯éƒ½åº”æ”¯æŒHostå¤´åŸŸ**ï¼Œä¸”è¯·æ±‚æ¶ˆæ¯ä¸­å¦‚æœæ²¡æœ‰Hostå¤´åŸŸä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ï¼ˆ400 Bad Requestï¼‰ã€‚æ­¤å¤–ï¼ŒæœåŠ¡å™¨åº”è¯¥æ¥å—ä»¥ç»å¯¹è·¯å¾„æ ‡è®°çš„èµ„æºè¯·æ±‚ã€‚
5. 100ï¼ˆContinueï¼‰Statusï¼ˆèŠ‚çº¦å¸¦å®½ï¼‰
6. HTTP/1.1ä¸­å¼•å…¥äº†Chunked transfer-coding
7. HTTP/1.1åœ¨1.0çš„åŸºç¡€ä¸ŠåŠ å…¥äº†ä¸€äº›cacheçš„æ–°ç‰¹æ€§

ğŸ‘‰**HTTP1.1çš„æ€§èƒ½ç“¶é¢ˆ**

l è¯·æ±‚ / å“åº”å¤´éƒ¨ï¼ˆHeaderï¼‰æœªç»å‹ç¼©å°±å‘é€ï¼Œé¦–éƒ¨ä¿¡æ¯è¶Šå¤šå»¶è¿Ÿè¶Šå¤§ã€‚åªèƒ½å‹ç¼© Body çš„éƒ¨åˆ†ï¼›

l å‘é€å†—é•¿çš„é¦–éƒ¨ã€‚æ¯æ¬¡äº’ç›¸å‘é€ç›¸åŒçš„é¦–éƒ¨é€ æˆçš„æµªè´¹è¾ƒå¤šï¼›

l æœåŠ¡å™¨æ˜¯æŒ‰è¯·æ±‚çš„é¡ºåºå“åº”çš„ï¼Œå¦‚æœæœåŠ¡å™¨å“åº”æ…¢ï¼Œä¼šæ‹›è‡´å®¢æˆ·ç«¯ä¸€ç›´è¯·æ±‚ä¸åˆ°æ•°æ®ï¼Œä¹Ÿå°±æ˜¯é˜Ÿå¤´é˜»å¡ï¼›

l æ²¡æœ‰è¯·æ±‚ä¼˜å…ˆçº§æ§åˆ¶ï¼›

l è¯·æ±‚åªèƒ½ä»å®¢æˆ·ç«¯å¼€å§‹ï¼ŒæœåŠ¡å™¨åªèƒ½è¢«åŠ¨å“åº”ã€‚

ğŸ‘‰**HTTP2é’ˆå¯¹HTTP1.1çš„ä¼˜åŒ–** // å‹ç¼©å¤´éƒ¨ã€äºŒè¿›åˆ¶ã€æ•°æ®æµã€å¤šè·¯å¤ç”¨

**HTTP/2 åè®®æ˜¯åŸºäº HTTPS çš„**ï¼Œæ‰€ä»¥ HTTP/2 çš„å®‰å…¨æ€§ä¹Ÿæ˜¯æœ‰ä¿éšœçš„ã€‚

\1. å¤´éƒ¨å‹ç¼©

HTTP/2 ä¼šå‹ç¼©å¤´ï¼ˆHeaderï¼‰å¦‚æœä½ åŒæ—¶å‘å‡ºå¤šä¸ªè¯·æ±‚ï¼Œä»–ä»¬çš„å¤´æ˜¯ä¸€æ ·çš„æˆ–æ˜¯ç›¸ä¼¼çš„ï¼Œé‚£ä¹ˆï¼Œåè®®ä¼šå¸®ä½ æ¶ˆé™¤é‡å¤çš„éƒ¨åˆ†ã€‚è¿™å°±æ˜¯æ‰€è°“çš„ HPACK ç®—æ³•ï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ—¶ç»´æŠ¤ä¸€å¼ å¤´ä¿¡æ¯è¡¨ï¼Œæ‰€æœ‰å­—æ®µéƒ½ä¼šå­˜å…¥è¿™ä¸ªè¡¨ï¼Œç”Ÿæˆä¸€ä¸ªç´¢å¼•å·ï¼Œä»¥åå°±ä¸å‘é€åŒæ ·å­—æ®µäº†ï¼Œåªå‘é€ç´¢å¼•å·ï¼Œè¿™æ ·å°±æé«˜é€Ÿåº¦äº†ã€‚

\2. äºŒè¿›åˆ¶æ ¼å¼

HTTP/2 ä¸å†åƒ HTTP/1.1 é‡Œçš„çº¯æ–‡æœ¬å½¢å¼çš„æŠ¥æ–‡ï¼Œè€Œæ˜¯å…¨é¢é‡‡ç”¨äº†äºŒè¿›åˆ¶æ ¼å¼ï¼Œå¤´ä¿¡æ¯å’Œæ•°æ®ä½“éƒ½æ˜¯äºŒè¿›åˆ¶ï¼Œå¹¶ä¸”ç»Ÿç§°ä¸º**å¸§**ï¼ˆframeï¼‰ï¼šå¤´ä¿¡æ¯å¸§å’Œæ•°æ®å¸§ã€‚è¿™æ ·è™½ç„¶å¯¹äººä¸å‹å¥½ï¼Œä½†æ˜¯å¯¹è®¡ç®—æœºéå¸¸å‹å¥½ï¼Œå› ä¸ºè®¡ç®—æœºåªæ‡‚äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆæ”¶åˆ°æŠ¥æ–‡åï¼Œæ— éœ€å†å°†æ˜æ–‡çš„æŠ¥æ–‡è½¬æˆäºŒè¿›åˆ¶ï¼Œè€Œæ˜¯ç›´æ¥è§£æäºŒè¿›åˆ¶æŠ¥æ–‡ï¼Œè¿™å¢åŠ äº†æ•°æ®ä¼ è¾“çš„æ•ˆç‡ã€‚

\3. æ•°æ®æµ

HTTP/2 çš„æ•°æ®åŒ…ä¸æ˜¯æŒ‰é¡ºåºå‘é€çš„ï¼ŒåŒä¸€ä¸ªè¿æ¥é‡Œé¢è¿ç»­çš„æ•°æ®åŒ…ï¼Œå¯èƒ½å±äºä¸åŒçš„å›åº”ã€‚å› æ­¤ï¼Œå¿…é¡»è¦å¯¹æ•°æ®åŒ…åšæ ‡è®°ï¼ŒæŒ‡å‡ºå®ƒå±äºå“ªä¸ªå›åº”ã€‚æ¯ä¸ªè¯·æ±‚æˆ–å›åº”çš„æ‰€æœ‰æ•°æ®åŒ…ï¼Œç§°ä¸ºä¸€ä¸ªæ•°æ®æµï¼ˆ Stream ï¼‰ã€‚æ¯ä¸ªæ•°æ®æµéƒ½æ ‡è®°ç€ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç¼–å·ï¼Œ**å…¶ä¸­è§„å®šå®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®æµç¼–å·ä¸ºå¥‡æ•°ï¼Œ æœåŠ¡å™¨å‘å‡ºçš„æ•°æ®æµç¼–å·ä¸ºå¶æ•°**ã€‚å®¢æˆ·ç«¯è¿˜å¯ä»¥æŒ‡å®šæ•°æ®æµçš„ä¼˜å…ˆçº§ã€‚ä¼˜å…ˆçº§é«˜çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°±å…ˆå“åº”è¯¥è¯·æ±‚ã€‚

\4. å¤šè·¯å¤ç”¨

HTTP/2 æ˜¯å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸­**å¹¶å‘å¤šä¸ªè¯·æ±‚æˆ–å›åº”**ï¼Œè€Œä¸ç”¨æŒ‰ç…§é¡ºåºä¸€ä¸€å¯¹åº”ã€‚ç§»é™¤äº† HTTP/1.1 ä¸­çš„ä¸²è¡Œè¯·æ±‚ï¼Œä¸éœ€è¦æ’é˜Ÿç­‰å¾…ï¼Œä¹Ÿå°±ä¸ä¼šå†å‡ºç°ã€Œé˜Ÿå¤´é˜»å¡ã€é—®é¢˜ï¼Œé™ä½äº†å»¶è¿Ÿï¼Œå¤§å¹…åº¦æé«˜äº†è¿æ¥çš„åˆ©ç”¨ç‡ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ä¸€ä¸ª TCP è¿æ¥é‡Œï¼ŒæœåŠ¡å™¨æ”¶åˆ°äº†å®¢æˆ·ç«¯ A å’Œ B çš„ä¸¤ä¸ªè¯·æ±‚ï¼Œå¦‚æœå‘ç° A å¤„ç†è¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œäºæ˜¯å°±å›åº” A è¯·æ±‚å·²ç»å¤„ç†å¥½çš„éƒ¨åˆ†ï¼Œæ¥ç€å›åº” B è¯·æ±‚ï¼Œå®Œæˆåï¼Œå†å›åº” A è¯·æ±‚å‰©ä¸‹çš„éƒ¨åˆ†ã€‚

\5. æœåŠ¡å™¨æ¨é€

HTTP/2 è¿˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ”¹å–„äº†ä¼ ç»Ÿçš„**ã€Œè¯·æ±‚ - åº”ç­”ã€**å·¥ä½œæ¨¡å¼ï¼ŒæœåŠ¡ä¸å†æ˜¯è¢«åŠ¨åœ°å“åº”ï¼Œ**ä¹Ÿå¯ä»¥ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯**ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨æµè§ˆå™¨åˆšè¯·æ±‚ HTML çš„æ—¶å€™ï¼Œå°±æå‰æŠŠå¯èƒ½ä¼šç”¨åˆ°çš„ JSã€CSS æ–‡ä»¶ç­‰é™æ€èµ„æºä¸»åŠ¨å‘ç»™å®¢æˆ·ç«¯ï¼Œå‡å°‘å»¶æ—¶çš„ç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨æ¨é€ï¼ˆServer Pushï¼Œä¹Ÿå« Cache Pushï¼‰ã€‚

**ğŸ‘‰HTTP/2 æœ‰å“ªäº›ç¼ºé™·ï¼ŸHTTP/3 åšäº†å“ªäº›ä¼˜åŒ–ï¼Ÿ**// 3å°±æ˜¯tcpæ¢æˆudp

HTTP/2 ä¸»è¦çš„é—®é¢˜åœ¨äºï¼Œ**å¤šä¸ª HTTP è¯·æ±‚åœ¨å¤ç”¨ä¸€ä¸ª TCP è¿æ¥**ï¼Œä¸‹å±‚çš„ TCP åè®®æ˜¯ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªHTTP è¯·æ±‚çš„ã€‚æ‰€ä»¥ä¸€æ—¦å‘ç”Ÿäº†ä¸¢åŒ…ç°è±¡ï¼Œå°±ä¼šè§¦å‘ TCP çš„é‡ä¼ æœºåˆ¶ï¼Œè¿™æ ·åœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­çš„æ‰€æœ‰çš„ HTTP è¯·æ±‚éƒ½å¿…é¡»ç­‰å¾…è¿™ä¸ªä¸¢äº†çš„åŒ…è¢«é‡ä¼ å›æ¥ã€‚

HTTP/1.1 ä¸­çš„ç®¡é“ï¼ˆ pipelineï¼‰ä¼ è¾“ä¸­å¦‚æœæœ‰ä¸€ä¸ªè¯·æ±‚é˜»å¡äº†ï¼Œé‚£ä¹ˆé˜Ÿåˆ—åè¯·æ±‚ä¹Ÿç»Ÿç»Ÿè¢«é˜»å¡ä½äº†ã€‚

HTTP/2 å¤šä¸ªè¯·æ±‚å¤ç”¨ä¸€ä¸ªTCPè¿æ¥ï¼Œ**ä¸€æ—¦å‘ç”Ÿä¸¢åŒ…ï¼Œå°±ä¼šé˜»å¡ä½æ‰€æœ‰çš„ HTTP è¯·æ±‚ã€‚**

è¿™éƒ½æ˜¯åŸºäº TCP ä¼ è¾“å±‚çš„é—®é¢˜ï¼Œ**æ‰€ä»¥ HTTP/3 æŠŠ HTTP ä¸‹å±‚çš„ TCP åè®®æ”¹æˆäº† UDPï¼**

UDP å‘ç”Ÿæ˜¯ä¸ç®¡é¡ºåºï¼Œä¹Ÿä¸ç®¡ä¸¢åŒ…çš„ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç° HTTP/1.1 çš„é˜Ÿå¤´é˜»å¡ å’Œ HTTP/2 çš„ä¸€ä¸ªä¸¢åŒ…å…¨éƒ¨é‡ä¼ é—®é¢˜ã€‚

UDP æ˜¯ä¸å¯é ä¼ è¾“çš„ï¼Œ**ä½†åŸºäº UDP çš„ QUIC åè®®å¯ä»¥å®ç°ç±»ä¼¼ TCP çš„å¯é æ€§ä¼ è¾“ã€‚**

l QUICã€QUICï¼ˆQuick UDP Internet Connectionï¼‰æ˜¯è°·æ­Œåˆ¶å®šçš„ä¸€ç§åŸºäºUDPçš„ä½æ—¶å»¶çš„äº’è”ç½‘ä¼ è¾“å±‚åè®®ã€‚ã€‘æœ‰è‡ªå·±çš„ä¸€å¥—æœºåˆ¶å¯ä»¥ä¿è¯ä¼ è¾“çš„å¯é æ€§çš„ã€‚å½“æŸä¸ªæµå‘ç”Ÿä¸¢åŒ…æ—¶ï¼Œåªä¼šé˜»å¡è¿™ä¸ªæµï¼Œå…¶ä»–æµä¸ä¼šå—åˆ°å½±å“ã€‚

l TLS3 å‡çº§æˆäº†æœ€æ–°çš„ 1.3 ç‰ˆæœ¬ï¼Œå¤´éƒ¨å‹ç¼©ç®—æ³•ä¹Ÿå‡çº§æˆäº†QPack ã€‚

â€‹ - è¿è¾“å±‚å®‰å…¨TLS \(Transport Layer Security\)ã€‚

l HTTPS è¦å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œè¦èŠ±è´¹ 6 æ¬¡äº¤äº’ï¼Œå…ˆæ˜¯å»ºç«‹ä¸‰æ¬¡æ¡æ‰‹ï¼Œç„¶åæ˜¯ TLS/1.3 çš„ä¸‰æ¬¡æ¡æ‰‹ã€‚QUIC ç›´æ¥æŠŠä»¥å¾€çš„ TCP å’Œ TLS/1.3 çš„ 6 æ¬¡äº¤äº’åˆå¹¶æˆäº† 3 æ¬¡ï¼Œå‡å°‘äº†äº¤äº’æ¬¡æ•°ã€‚

æ‰€ä»¥ï¼Œ QUIC æ˜¯ä¸€ä¸ªåœ¨ UDP ä¹‹ä¸Šçš„ä¼ª TCP + TLS + HTTP/2 çš„å¤šè·¯å¤ç”¨çš„åè®®ã€‚QUIC æ˜¯æ–°åè®®ï¼Œå¯¹äºå¾ˆå¤šç½‘ç»œè®¾å¤‡ï¼Œæ ¹æœ¬ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ QUICï¼Œåªä¼šå½“åš UDPï¼Œè¿™æ ·ä¼šå‡ºç°æ–°çš„é—®é¢˜ã€‚æ‰€ä»¥ HTTP/3 ç°åœ¨æ™®åŠçš„è¿›åº¦éå¸¸çš„ç¼“æ…¢ï¼Œä¸çŸ¥é“æœªæ¥ UDP æ˜¯å¦èƒ½å¤Ÿé€†è¢­ TCPã€‚

### 11.5 HTTP/1.0 ä¸HTTP/2.0åŒºåˆ«\*

HTTP/2.0

#### HTTP/1.x ç¼ºé™·

HTTP/1.x å®ç°ç®€å•æ˜¯ä»¥ç‰ºç‰²æ€§èƒ½ä¸ºä»£ä»·çš„ï¼š

* å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨å¤šä¸ªè¿æ¥æ‰èƒ½å®ç°å¹¶å‘å’Œç¼©çŸ­å»¶è¿Ÿï¼›
* ä¸ä¼šå‹ç¼©è¯·æ±‚å’Œå“åº”é¦–éƒ¨ï¼Œä»è€Œå¯¼è‡´ä¸å¿…è¦çš„ç½‘ç»œæµé‡ï¼›
* ä¸æ”¯æŒæœ‰æ•ˆçš„èµ„æºä¼˜å…ˆçº§ï¼Œè‡´ä½¿åº•å±‚ TCP è¿æ¥çš„åˆ©ç”¨ç‡ä½ä¸‹ã€‚

#### äºŒè¿›åˆ¶åˆ†å¸§å±‚

HTTP/2.0 å°†æŠ¥æ–‡åˆ†æˆ HEADERS å¸§å’Œ DATA å¸§ï¼Œå®ƒä»¬éƒ½æ˜¯äºŒè¿›åˆ¶æ ¼å¼çš„ã€‚â€‹![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/86e6a91d-a285-447a-9345-c5484b8d0c47.png)  
â€‹

åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œåªä¼šæœ‰ä¸€ä¸ª TCP è¿æ¥å­˜åœ¨ï¼Œå®ƒæ‰¿è½½äº†ä»»æ„æ•°é‡çš„åŒå‘æ•°æ®æµï¼ˆStreamï¼‰ã€‚

* ä¸€ä¸ªæ•°æ®æµï¼ˆStreamï¼‰éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦å’Œå¯é€‰çš„ä¼˜å…ˆçº§ä¿¡æ¯ï¼Œç”¨äºæ‰¿è½½åŒå‘ä¿¡æ¯ã€‚
* æ¶ˆæ¯ï¼ˆMessageï¼‰æ˜¯ä¸é€»è¾‘è¯·æ±‚æˆ–å“åº”å¯¹åº”çš„å®Œæ•´çš„ä¸€ç³»åˆ—å¸§ã€‚
* å¸§ï¼ˆFrameï¼‰æ˜¯æœ€å°çš„é€šä¿¡å•ä½ï¼Œæ¥è‡ªä¸åŒæ•°æ®æµçš„å¸§å¯ä»¥äº¤é”™å‘é€ï¼Œç„¶åå†æ ¹æ®æ¯ä¸ªå¸§å¤´çš„æ•°æ®æµæ ‡è¯†ç¬¦é‡æ–°ç»„è£…ã€‚

â€‹![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/af198da1-2480-4043-b07f-a3b91a88b815.png)  
â€‹

#### æœåŠ¡ç«¯æ¨é€

HTTP/2.0 åœ¨å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œä¼šæŠŠç›¸å…³çš„èµ„æºä¸€èµ·å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å°±ä¸éœ€è¦å†æ¬¡å‘èµ·è¯·æ±‚äº†ã€‚ä¾‹å¦‚å®¢æˆ·ç«¯è¯·æ±‚ page.html é¡µé¢ï¼ŒæœåŠ¡ç«¯å°±æŠŠ script.js å’Œ style.css ç­‰ä¸ä¹‹ç›¸å…³çš„èµ„æºä¸€èµ·å‘ç»™å®¢æˆ·ç«¯ã€‚

â€‹![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e3f1657c-80fc-4dfa-9643-bf51abd201c6.png)  
â€‹

#### é¦–éƒ¨å‹ç¼©

HTTP/1.1 çš„é¦–éƒ¨å¸¦æœ‰å¤§é‡ä¿¡æ¯ï¼Œè€Œä¸”æ¯æ¬¡éƒ½è¦é‡å¤å‘é€ã€‚

HTTP/2.0 è¦æ±‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ—¶ç»´æŠ¤å’Œæ›´æ–°ä¸€ä¸ªåŒ…å«ä¹‹å‰è§è¿‡çš„é¦–éƒ¨å­—æ®µè¡¨ï¼Œä»è€Œé¿å…äº†é‡å¤ä¼ è¾“ã€‚

ä¸ä»…å¦‚æ­¤ï¼ŒHTTP/2.0 ä¹Ÿä½¿ç”¨ Huffman ç¼–ç å¯¹é¦–éƒ¨å­—æ®µè¿›è¡Œå‹ç¼©ã€‚â€‹![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/_u4E0B_u8F7D.png)  
â€‹

HTTP/1.1 æ–°ç‰¹æ€§

è¯¦ç»†å†…å®¹è¯·è§ä¸Šæ–‡

* é»˜è®¤æ˜¯é•¿è¿æ¥
* æ”¯æŒæµæ°´çº¿
* æ”¯æŒåŒæ—¶æ‰“å¼€å¤šä¸ª TCP è¿æ¥
* æ”¯æŒè™šæ‹Ÿä¸»æœº
* æ–°å¢çŠ¶æ€ç  100
* æ”¯æŒåˆ†å—ä¼ è¾“ç¼–ç 
* æ–°å¢ç¼“å­˜å¤„ç†æŒ‡ä»¤ max-age

## 12.HTTPå¦‚ä½•å®ç°æ–­ç‚¹ç»­ä¼ çš„

å¦‚ä½•å®ç°æ–­ç‚¹ç»­ä¼ 

ã€è®¡ç½‘ã€‘HTTPæ–­ç‚¹é‡ä¼ 

HTTP1.1 åè®®ï¼ˆRFC2616ï¼‰**å¼€å§‹æ”¯æŒè·å–æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹**ï¼Œè¿™ä¸ºå¹¶è¡Œä¸‹è½½ä»¥åŠ**æ–­ç‚¹ç»­ä¼ **æä¾›äº†æŠ€æœ¯æ”¯æŒã€‚

å®ƒé€šè¿‡åœ¨ Header é‡Œä¸¤ä¸ªå‚æ•°å®ç°çš„ã€‚

* å®¢æˆ·ç«¯å‘è¯·æ±‚æ—¶å¯¹åº”çš„æ˜¯ **Range** 
* æœåŠ¡å™¨ç«¯å“åº”æ—¶å¯¹åº”çš„æ˜¯ **Content-Range**ã€‚

## 13.HTTP 8ç§æ–¹æ³•

å®¢æˆ·ç«¯å‘é€çš„ **è¯·æ±‚æŠ¥æ–‡** ç¬¬ä¸€è¡Œä¸ºè¯·æ±‚è¡Œï¼ŒåŒ…å«äº†æ–¹æ³•å­—æ®µã€‚

### GET

> è·å–èµ„æº

å½“å‰ç½‘ç»œè¯·æ±‚ä¸­ï¼Œç»å¤§éƒ¨åˆ†ä½¿ç”¨çš„æ˜¯ GET æ–¹æ³•ã€‚

### HEAD

> è·å–æŠ¥æ–‡é¦–éƒ¨

å’Œ GET æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯ä¸è¿”å›æŠ¥æ–‡å®ä½“ä¸»ä½“éƒ¨åˆ†ã€‚

ä¸»è¦ç”¨äºç¡®è®¤ URL çš„æœ‰æ•ˆæ€§ä»¥åŠèµ„æºæ›´æ–°çš„æ—¥æœŸæ—¶é—´ç­‰ã€‚

### POST

> ä¼ è¾“å®ä½“ä¸»ä½“

POST ä¸»è¦ç”¨æ¥ä¼ è¾“æ•°æ®ï¼Œè€Œ GET ä¸»è¦ç”¨æ¥è·å–èµ„æºã€‚

### PUT

> ä¸Šä¼ æ–‡ä»¶

ç”±äºè‡ªèº«ä¸å¸¦éªŒè¯æœºåˆ¶ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œå› æ­¤å­˜åœ¨å®‰å…¨æ€§é—®é¢˜ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨è¯¥æ–¹æ³•ã€‚

```text
 PUT /new.html HTTP/1.1
 Host: example.com
 Content-type: text/html
 Content-length: 16
 â€‹
 <p>New File</p>
```

### PATCH

> å¯¹èµ„æºè¿›è¡Œéƒ¨åˆ†ä¿®æ”¹

PUT ä¹Ÿå¯ä»¥ç”¨äºä¿®æ”¹èµ„æºï¼Œä½†æ˜¯åªèƒ½å®Œå…¨æ›¿ä»£åŸå§‹èµ„æºï¼ŒPATCH å…è®¸éƒ¨åˆ†ä¿®æ”¹ã€‚

```text
 PATCH /file.txt HTTP/1.1
 Host: www.example.com
 Content-Type: application/example
 If-Match: "e0023aa4e"
 Content-Length: 100
 â€‹
 [description of changes]
```

### DELETE

> åˆ é™¤æ–‡ä»¶

ä¸ PUT åŠŸèƒ½ç›¸åï¼Œå¹¶ä¸”åŒæ ·ä¸å¸¦éªŒè¯æœºåˆ¶ã€‚

```text
 DELETE /file.html HTTP/1.1
```

### OPTIONS

> æŸ¥è¯¢æ”¯æŒçš„æ–¹æ³•

æŸ¥è¯¢æŒ‡å®šçš„ URL èƒ½å¤Ÿæ”¯æŒçš„æ–¹æ³•ã€‚

ä¼šè¿”å› `Allow: GET, POST, HEAD, OPTIONS` è¿™æ ·çš„å†…å®¹ã€‚

### CONNECT

> è¦æ±‚åœ¨ä¸ä»£ç†æœåŠ¡å™¨é€šä¿¡æ—¶å»ºç«‹éš§é“

ä½¿ç”¨ SSLï¼ˆSecure Sockets Layerï¼Œå®‰å…¨å¥—æ¥å±‚ï¼‰å’Œ TLSï¼ˆTransport Layer Securityï¼Œä¼ è¾“å±‚å®‰å…¨ï¼‰åè®®æŠŠé€šä¿¡å†…å®¹åŠ å¯†åç»ç½‘ç»œéš§é“ä¼ è¾“ã€‚

```text
 CONNECT www.example.com:443 HTTP/1.1
```

â€‹  
â€‹

![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/dc00f70e-c5c8-4d20-baf1-2d70014a97e3.jpg)

### TRACE

> è¿½è¸ªè·¯å¾„

æœåŠ¡å™¨ä¼šå°†é€šä¿¡è·¯å¾„è¿”å›ç»™å®¢æˆ·ç«¯ã€‚

å‘é€è¯·æ±‚æ—¶ï¼Œåœ¨ Max-Forwards é¦–éƒ¨å­—æ®µä¸­å¡«å…¥æ•°å€¼ï¼Œæ¯ç»è¿‡ä¸€ä¸ªæœåŠ¡å™¨å°±ä¼šå‡ 1ï¼Œå½“æ•°å€¼ä¸º 0 æ—¶å°±åœæ­¢ä¼ è¾“ã€‚

é€šå¸¸ä¸ä¼šä½¿ç”¨ TRACEï¼Œå¹¶ä¸”å®ƒå®¹æ˜“å—åˆ° XST æ”»å‡»ï¼ˆCross-Site Tracingï¼Œè·¨ç«™è¿½è¸ªï¼‰ã€‚

* [rfc2616ï¼š9 Method Definitions](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html)

## 14.HTTPSåè®®çš„å®ç°åŸç†

{% embed url="https://www.jianshu.com/p/b1538c758c4a" %}

## 15.URIä¸URL

HTTP ä½¿ç”¨ URLï¼ˆ **U** niform **R**esource **L**ocatorï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æ¥å®šä½èµ„æºï¼Œå®ƒæ˜¯ URIï¼ˆ**U**niform **R**esource **I**dentifierï¼Œç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰çš„å­é›†ï¼ŒURL åœ¨ URI çš„åŸºç¡€ä¸Šå¢åŠ äº†å®šä½èƒ½åŠ›ã€‚URI é™¤äº†åŒ…å« URLï¼Œè¿˜åŒ…å« URNï¼ˆUniform Resource Nameï¼Œç»Ÿä¸€èµ„æºåç§°ï¼‰ï¼Œå®ƒåªæ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ªèµ„æºçš„åç§°ï¼Œå¹¶ä¸å…·å¤‡å®šä½è¯¥èµ„æºçš„èƒ½åŠ›ã€‚ä¾‹å¦‚ urn:isbn:0451450523 ç”¨æ¥å®šä¹‰ä¸€ä¸ªä¹¦ç±åç§°ï¼Œä½†æ˜¯å´æ²¡æœ‰è¡¨ç¤ºæ€ä¹ˆæ‰¾åˆ°è¿™æœ¬ä¹¦ã€‚

![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/8441b2c4-dca7-4d6b-8efb-f22efccaf331.png)

* [wikipediaï¼šç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦](https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E6%A0%87%E5%BF%97%E7%AC%A6)
* [wikipedia: URL](https://en.wikipedia.org/wiki/URL)
* [rfc2616ï¼š3.2.2 http URL](https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.2.2)
* [What is the difference between a URI, a URL and a URN?](https://stackoverflow.com/questions/176264/what-is-the-difference-between-a-uri-a-url-and-a-urn)

## POSTå’ŒGETåŒºåˆ«

## æ”»å‡»æŠ€æœ¯



